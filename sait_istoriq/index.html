<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="utf-8" />
<title>Археологическа карта на България</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<style>
  html, body {
    height: 100%;
    margin: 0;
  }
  #map {
    height: 100%;
    width: 100%;
  }
  #info {
    position: absolute;
    max-height: 90%;
    white-space: pre-line;
    font-size: 18pt;
    top: 4%;
    right: 10px;
    width: 500px;
    background: white;
    padding: 10px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    z-index: 1000;
    display: none;
    overflow-y: auto;
    overflow-x: hidden;
  }
  #info img {
    width: 80%;
    border-radius: 5px;
    margin-bottom: 8px;
  }
  #close {
    background: #ccc;
    border: none;
    padding: 5px 10px;
    border-radius: 4px;
    cursor: pointer;
  }
</style>
</head>
<body>

<div id="map"></div>

<div id="info">
  <button id="close">Затвори</button>
  <h3 id="title"></h3>
  <img id="photo" src="" alt="">
  <p id="desc"></p>
</div>

<script>
  // Дефинираме географски граници на България
  const bulgariaBounds = L.latLngBounds(
    [41.5, 22.3], // югозападен ъгъл (граница с Гърция/Македония)
    [44.3, 29.7]  // североизточен ъгъл (Дунав и Черно море)
  );

  // Инициализация на картата, ограничена в тези граници
  const map = L.map('map', {
    center: [42.7, 25.3],
    zoom: 8,
    minZoom: 8,
    maxZoom: 15,
    maxBounds: bulgariaBounds, // ограничение на влачене
    maxBoundsViscosity: 1.0    // колко "твърдо" е ограничението (1 = напълно)
  });

  // Слоеве от OpenStreetMap
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '© OpenStreetMap contributors'
  }).addTo(map);

  // Примерни археологически обекти
  const sites = [
    {
      name: "Златната погребална маска на тракийски владетел.",
      coords: [42.68813281254875, 25.368914454332707],
      img: "images/teres.jpg",
      desc: "Име: Златната погребална маска на тракийски владетел (известна като маската на Терес)\n\n" +
        "Описание: Маската е изработена от чисто злато. Представлява човешко лице с ясно изразени черти — голям нос, издадени устни и високи скули. Вероятно е покривала лицето на тракийски владетел по време на погребението. Служела е за символ на власти божествен произход. Изработката е изключително прецизна, характерна за високо развита златарска традиция.\n\n" +
        "Височина: 25 см\n" +
        "Ширина: 23 см\n" +
        "Тегло: около 670 грама\n" +
        "Регион (местност): Гробница при могилата „Светицата”, край гр. Шипка, България\n" +
        "Съхранител: Национален исторически музей — София\n" +
        "Дата на създаване: V век пр. Хр.\n" +
        "Период на създаване: Късна желязна епоха — Одриско царство\n" +
        "Местонахождение: Национален исторически музей, София\n\n" +
        "Историческа интерпретация: Маската свидетелства за високото ниво на златарското изкуство у траките и за значението на погребалните обреди при владетелите.\n" +
        "Съвременно състояние на обекта: Маската е добре запазена."
    },
    {
      name: "Севтополис",
      coords: [42.61659035970165, 25.30642009166572],
      img: "images/sevtopolis.jpg",
      desc: "Име: Севтополис\n" +  
      "Севтополис е древен град, основан от тракийския цар Севт III.  В некропола на Севтополис са намерени редица тухлени куполни гробници, някои от които подмогилни. В тях са били погребвани траки от висшите съсловия, понякога заедно с техните коне\n" +
      "Площ: Укрепената част на града е обхващала около 50 декара, Общата обиколка на крепостната стена е била 890 m\n" +
      "Регион: Долната част на язовир „Копринка“ до Казанлък\n" +
      "Съхранител: община Казанлък (набиране на средства за разкриване, съхраняване и възстановяване)\n" +
      "Дата на създаване: края на IV век пр.н.е.\n" + 
      "Период на създаване: Тракийски (XII век пр.н.е. – I век)\n" + 
      "Местонахождение: Казанлък"
    },
    {
      name: "Глинени фигури",
      coords: [43.21405172399243, 27.91094059220285],
      img: "images/glineni_figuri.jpg",
      desc: "Наименование на обекта: Глинени идоли – символи на плодородието и майката природа\n" +
      "Описание: Малки антропоморфни фигурки, изработени от глина, често с подчертани женски форми – широки бедра и изразен бюст. Повърхността е загладена, а някои екземпляри са украсени с врязани орнаменти или бяла инкрустация. Вероятно са използвани в култови ритуали, свързани с плодородието и почитането на Великата богиня-майка.\n" +
      "Височина: между 8 и 15 см\n" +
      "Ширина: 3–6 см \n" +
      "Регион: Районите на Варна и Нови Пазар\n" +
      "Съвременно състояние на обекта: Оригиналните идоли се съхраняват в Археологическия музей във Варна и в Националния археологически институт с музей – София. Обектът е достъпен за посещение от туристи и учени.\n" +
      "Датиране: 6–5 хилядолетие пр. Хр. (Среден – Късен неолит)"
    },
    {
      name: "Неолитна женска фигурка ",
      coords: [42.46742724798299, 25.505017210195817],
      img: "images/jenska.jpg",
      desc: "Име: Неолитна женска фигурка („Богиня-майка“)\n" +
      "Описание: Голяма глинена фигурка, представяща женско тяло без глава и стъпала. Изработена е от изпечена глина, украсена с бели и червени спирални орнаменти. Ръцете са положени върху корема – символ на плодородие и майчинство. Повърхността е загладена, с видими следи от боя.\n" +
      "Височина: около 40 см\n" +
      "Ширина: около 25 см\n" +
      "Регион (местност): Югоизточна България – район Ново село, близо до Стара Загора\n" +
      "Съхранител: Национален археологически институт с музей при БАН, София\n" +
      "Дата на създаване: 6–5 хилядолетие пр. Хр.\n" +
      "Период на създаване: Късен неолит – култура Караново VI\n" +
      "Местонахождение: Национален археологически музей, София\n" +
      "Значение: Фигурката е свързана с култа към плодородието и Великата Богиня-майка – божество, почитано от земеделските общности на Балканите през неолита и халколита. Подобни статуетки се срещат в много селища от този период и са важен символ на духовния и художествения живот на праисторическите хора."
    },
    {
      name: "Панагюрско златно съкровище ",
      coords: [42.50083565822589, 24.18650904544731],
      img: "images/panagursko.jpg",
      desc: "Име: Панагюрско златно съкровище (ритуален сервиз, използван при религиозни обреди и пиршества)\n" +
      "Описание: Съкровището се състои от девет златни съда с общо тегло около 6,1 кг — изключително изящно изработени ритони, амфора и фиали. Те са украсени с изображения на гръцки и тракийски божества, сцени от митологията и животински фигури. Предметите са изковани от масивно злато с висока художествена стойност и вероятно са принадлежали на тракийски владетел.\n" +
      "Височина: от 12 до 29 см (според отделните съдове)\n" +
      "Диаметър: най-големият съд – 19 см\n" +
      "Регион: гр. Панагюрище, област Пазарджик, България\n" +
      "Съхранител: Национален исторически музей, София (частично изложено и в Панагюрския музей)\n" +
      "Дата на създаване: Края на IV – началото на III век пр. Хр.\n" +
    "Период на създаване: Късна класическа – ранноелинистическа епоха, тракийска култура"
    },
    {
      name: "Пещера Магурата",
      coords: [43.727468441101095, 22.58401943518647],
      img: "images/magurata.jpg",
      desc: "Име: Пещера „Магурата“\n" +
      "Описание: Обособени са зали и галерии. Всички зали са свързани чрез галерии и пещерни тунели, има много сталактити, сталагмити и сталактони, а в Триумфалната зала има малко езеро.\n" +
      "Размери: Дължината на пещерата е около 2608 м, а дълбочината ѝ е 56 м.\n" +
      "Температура и влажност: Пещерата е с постоянна температура около 11–12 °C, а влажността е около 98%.\n" +
      "Регион (местност): село Рабиша, област Видин.\n" +
      "Период на обитаване: Енеолит (Халколит). Около 4800 – 4000 г. пр. Хр. Тогава пещерата е постоянно местообитание и култов център. Тогава са създадени голяма част от скалните рисунки и известният Слънчев календар."
    },
    {
      name: "Казанлъшката гробница",
      coords: [42.62594964422956, 25.399166824202492],
      img: "images/kazanluk1.jpg",
      desc: "Име: Казанлъшка тракийска гробница\n" +
      "Описание: Куполна гробница, част от голям тракийски некропол. Известна е най-вече с изключително добре запазените си стенописи в коридора и куполната камера.\n" +
      "Физически характеристики: Състои се от тесен коридор (дромос) и кръгла погребална камера с фалшив купол (толос). Изградена е от тухли и камък.\n" +
      "Класификация: Надгробна могила\n" +
      "Датировка: Краят на IV век пр.н.е.\n" +
      "Размери: Коридор: около 2,65 м дължина; Погребална камера: 3,25 м в диаметър и 3,45 м височина. Общата височина на могилата е около 7 метра.\n" +
      "Историческа интерпретация: Гробницата свидетелства за високото обществено положение на погребания тракийски аристократ (вероятно владетел или знатен военачалник) и неговата съпруга. Стенописите представят погребален пир и сцени с конни надбягвания и битки, даващи ценна информация за тракийските обичаи, военна култура и религиозно-погребални практики.\n" +
      "Съвременно състояние на обекта: Обектът е отворен за посещение, но оригиналната гробница е затворена за публика с цел опазване на стенописите от атмосферните влияния. До нея е изградено точно копие, което туристите посещават."
    },
    {
      name: "Ритон от сребро",
      coords: [42.500930742516054, 24.185348813006126],
      img: "images/riton.jpg",
      desc: "Име: Ритон от сребро – ритуален съд, използван при религиозни обреди и възлияния\n" +
      "Височина: 18,6 см\n" +
      "Диаметър: 9,8 см\n" +
      "Регион: Панагюрище, област Пазарджик, България\n" +
      "Съхранител: Национален исторически музей, София\n" +
      "Дата на създаване: Края на IV – началото на III век пр. Хр.\n" +
      "Период на създаване: Късна класическа – ранноелинистическа епоха, тракийска култура"
    },
    {
      name: "Пещера „Дяволското гърло",
      coords: [41.61545190101472, 24.37963813264999],
      img: "images/dqvolsko_gurlo1.jpg",
      desc: "Име: Пещера „Дяволското гърло“\n" +
      "Описание: Карстова пещера, образувана в мраморни скали. Входът ѝ наподобява дяволска глава, откъдето идва и името ѝ. Вътре се намира най-високият подземен водопад на Балканите. Легендата свързва мястото с мита за Орфей и слизането му в подземното царство.\n" +
      "Дължина: около 1 км (основна галерия – 350 м)\n" +
      "Височина на водопада: 42 м\n" +
      "Област: Смолян\n" +
      "Прина длежност: Национално природно и туристическо богатство (България)\n" +
      "Дата на образуване: Преди около 175 000 години\n" +
      "Период на създаване: Среден палеолит\n" +
      "Местонахождение: село Триград, община Девин\n\n" + 
      "Пещерата Дяволското гърло е един от най-впечатляващите природни феномени в България. Тя се намира в Западните Родопи, в живописното Триградско ждрело, и е част от сложна карстова система, формирана в мраморни скали под въздействието на подземни води и ерозионни процеси. Пещерата се е образувала преди хиляди години, когато реката е прокопала своето подземно русло, оставяйки след себе си тунели, галерии и пропасти с изключителна научна стойност. Най-впечатляващата част от пещерата е така наречената Бучаща зала – огромно подземно пространство, в което се спуска 42-метров подземен водопад. Непрекъснатият тътен на падащата вода изпълва залата и придава на мястото мистична и внушителна атмосфера. Оттук идва и името „Дяволското гърло“. Водата потъва в дълбока пропаст и се появява отново на повърхността след около километър и половина, но въпреки многобройните опити на учени и спелеолози, точният ѝ подземен път остава неизяснен. Експерименти с оцветители и плаващи предмети показват, че те не се появяват отново, което поражда множество легенди и предположения за съществуването на сложна мрежа от подземни сифони. Освен природно чудо, Дяволското гърло представлява и ценен биологичен обект. В пещерата се срещат няколко редки вида прилепи и подземни организми, адаптирани към тъмнината и постоянната температура от около 8°C през цялата година. Това прави мястото особено интересно за биолози и климатолози, изучаващи влиянието на подземната среда върху живите организми. Пещерата има и културно значение. Според древна тракийска легенда, именно тук Орфей е слязъл в подземното царство, за да потърси своята любима Евридика. Символиката на този мит се преплита с реалността – човешкото стремление да разбере тайните на природата и да преодолее границите на познатото. Днес Дяволското гърло е благоустроено и достъпно за туристи – изградени са пътеки, осветление и над 280 стъпала, водещи към водопада. Годишно хиляди посетители се докосват до величието на пещерата, която остава един от най-загадъчните и вдъхновяващи обекти в българската природа."
    },
    {
      name: "Сърп",
      coords: [42.51267641044824, 25.90822450372014],
      img: "images/surp.jpg",
      desc: "Име: Сърп (Сърпът от рог на елен с кремъчни зъбци, датиран от ранния неолит и свързан с Карановската култура)\n" + 
      "Височина: 27см\n" +
      "Диаметър: 3,3см\n" + 
      "Регион: Караново (Сливенска област)\n" + 
      "Съхранител: Национален археологически институт с музей, София\n" + 
      "Дата на създаване: 5 хилядолетие пр.Хр.\n" + 
      "Период на съсдаване:Ранен неолит,Карановската култура I-II фази"
    },
  ];

  // Елементи на панела
  const infoPanel = document.getElementById("info");
  const titleEl = document.getElementById("title");
  const photoEl = document.getElementById("photo");
  const descEl = document.getElementById("desc");
  const closeBtn = document.getElementById("close");

  closeBtn.addEventListener("click", () => {
    infoPanel.style.display = "none";
  });

  // Добавяне на маркери
  sites.forEach(site => {
    const img = new Image();
    img.src = site.img;
    const marker = L.marker(site.coords).addTo(map);
    marker.bindTooltip(
    `<div style="text-align:center;">
       <strong>${site.name}</strong><br>
       <img src="${site.img}" style="width:100px; height:auto; display:block; border-radius:5px; margin-top:5px;">
     </div>`, 
    { 
      direction: 'top',   
      offset: [-15, -15],       
      opacity: 0.95,
      permanent: false,
      className: 'custom-tooltip'
    }
    );
    marker.on("click", () => {
      titleEl.textContent = site.name;
      photoEl.src = site.img;
      descEl.textContent = site.desc;
      infoPanel.style.display = "block";
    });
  });
</script>
</body>
</html>
